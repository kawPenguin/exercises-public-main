# 設問13-12
## 問題

問題 13.1 で非同期処理について学んだあなたは「時間のかかる同期関数があるならば、非同期関数に変換して適宜 `await` すればいいのではないか」と思いついた。

それでは以下のコードを実行すると何が出力されるか予想し実際に確認しなさい。
また「[マイクロタスク](https://developer.mozilla.org/ja/docs/Web/API/HTML_DOM_API/Microtask_guide)」について調査し、この用語を用いて理由を説明しなさい。

## 実行結果
A
B
A
B
...の無限ループで、Hello, World!は表示されない。

## 説明
マイクロタスクは、現在のスクリプトのじっこうがかんりょうした直後に、
次のタスクに移る前に実行されるべき、小さな処理単位のことをいう。
Promiseの.then()や.catch()、async/awaitのawaitの後のタスクは、
マイクロタスクとしてマイクロタスクキューに追加される。

今回のコードの流れは、以下のようになる
1. setTimeoutが呼ばれ、そのコールバック関数"() => console.log("Hello, world!"), 1000"は、
1秒後に実行されるマクロタスクとして登録される。
2. longA()とlongB()が呼び出される。
3. longAの中でawait Promise.resolve({})が呼び出されると、longAの残りは一旦中断する。longBも同様。
4. 同期的なコードがおわりコールスタックが空になると、イベントループはマイクロタスクキューを確認する。
この中には、longAとlongBの次のステップが入っている。
5. イベントループはlongAのマイクロタスクを実行し、awaitによって次のループの反復を新しいマイクロタスクとしてキューの末尾に追加する。
6. longBに関してもマイクロタスクが実行され、longAと同様に新しいマイクロタスクをキューに追加される。
7. このプロセスが延々と繰り返され、マイクロタスクキューが空になる瞬間がない。