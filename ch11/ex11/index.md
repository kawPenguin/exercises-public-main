# 設問
`performance.now` を使ってプログラムの処理時間を測定してみよう。
ch11/ex11/index.js は `"Hello".length` にどれだけの時間がかかるか測定しようと実装したコードである。

コードを実行すると以下の事実に気付くだろう:

- costOfLength が負の値を返すことがある (`"Hello".length` を実行すると時が巻き戻るのだろうか?)
- costOfLength の引数の値を大きくすれば大きくする程結果が小さくなる (`"Hello".length` を実行すればする程速くなるのだろうか?)

どうやら何かがおかしい。どうしてこのような結果になるか調べて説明しなさい。

# 回答
現代のJavaScriptエンジンが実行速度を上げるためにコードを積極的に最適化することが原因と考える。
負の値が出るのは、「何もしない空のループ」を無意味と判断し、コードごと消去してしまうからである。
その結果、ほぼゼロ秒同士を比較することとなり、測定誤差の範囲で時間が逆転してしまい、負の値が生まれると考える。
Nの値を増やすと結果が小さくなるのは、JITコンパイラが働き、コンパイル済みの高速なコードが実行されるようになるためである。